<div class="table">
  <input type="text" placeholder="Recherche de produit" [(ngModel)]="searchTerm" class="search-input">
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Id</th>
      <th scope="col">Name</th>
      <th scope="col" >Category</th>
      <th scope="col">Price</th>
      <th scope="col">Stock</th>
      
    </tr>
  </thead>
  <tbody>
    <tr  *ngFor="let p of products | filter : searchTerm" >
      <td scope="row">{{p.id}}</td>
      <td>{{p.name}}</td>
      <td>{{p.category}}</td>
      <td>{{p.price | currency}} </td>
      <td [ngClass]="{'inStock' : p.stock >0 ,'outStock' : p.stock ===0}">{{p.stock}}</td>
      <td>
        <button class="btn btn-success" (click)="edit(p)">Edit <i class="bi bi-pen-fill"></i></button>
        <button class="btn btn-danger" (click)="delete(p)"> Delete <i class="bi bi-trash3-fill"></i> </button>
      </td>
    </tr>
  </tbody>
</table>

  <form [formGroup]="productForm" (ngSubmit)="addproduct()" *ngIf="!editP">
    <label for="id">ID:</label>
    <input id="id" formControlName="id" type="number">
    
    <label for="name">Name:</label>
    <input id="name" formControlName="name" type="text">
    
    <label for="price">Price:</label>
    <input id="price" formControlName="price" type="number" step="0.01">
    
    <label for="category">Category:</label>
    <input id="category" formControlName="category" type="text">
    
    <label for="stock">Stock:</label>
    <input id="stock" formControlName="stock" type="number">
    
    <button type="submit">Add Product</button>
  </form>
    <form [formGroup]="productForm" (ngSubmit)="update()" *ngIf="editP">
      <label for="id">ID:</label>
      <input id="id" formControlName="id" type="number">
      
      <label for="name">Name:</label>
      <input id="name" formControlName="name" type="text">
      
      <label for="price">Price:</label>
      <input id="price" formControlName="price" type="number" step="0.01">
      
      <label for="category">Category:</label>
      <input id="category" formControlName="category" type="text">
      
      <label for="stock">Stock:</label>
      <input id="stock" formControlName="stock" type="number">
      
      <button type="submit">Update</button>
    </form>
    